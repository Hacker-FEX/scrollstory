<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ScrollStory: Active Item</title>
    <link rel="stylesheet" href="base.css">
</head>

<body>
    <div id="status">Active item index: <span id="activeIndex"></span></div>
    <div id="container">
        <p class="about">You can trigger an action when new item becomes active.</p>
        <div class="story"><span>1</span></div>
        <div class="story"><span>2</span></div>
        <div class="story"><span>3</span></div>
        <div class="story"><span>4</span></div>
        <div class="story"><span>5</span></div>
        <div class="story"><span>6</span></div>
        <div class="story"><span>7</span></div>
        <div class="story"><span>8</span></div>
        <div class="story"><span>9</span></div>
        <div class="story"><span>10</span></div>
        <div class="story"><span>11</span></div>
        <div class="story"><span>12</span></div>
        <div class="story"><span>13</span></div>
    </div>
    <script src="jquery/jquery.js"></script>
    <script src="jquery-ui/jquery-ui.js"></script>
    <script src="underscore/underscore.js"></script>
    <script src="scrollstory.js"></script>
    <script>
    (function($) {
        // make existing elements 60% of window height
        $('.story').css({
            'height': $(window).height() * 0.6
        });

        var $activeIndex = $('#activeIndex');

        $('#container').ScrollStory({
            throttleType: 'throttle', // check on leading edge of scroll
            indexchange: function(ev, data){
                console.log(data);
                $activeIndex.html(data.item.index);
            }
        });
    })(jQuery);
    </script>
</body>
</html>
